<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Innate::Request</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Innate::Request</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/innate/request_rb.html">
                lib/innate/request.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Rack::Request
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Subclass Rack::Request and add some convenient methods.
</p>
<p>
An instance is available via the request method in your <a
href="Node.html">Node</a>.
</p>
<p>
NOTE:
</p>
<pre>
  Please make sure to read the documentation of Rack::Request together with
  this, as there are a lot of features available.
</pre>
<p>
A list of methods from Rack::Request so you get a gist of it:
</p>
<p>
## Generally
</p>
<ul>
<li>body

</li>
<li>cookies

</li>
<li>env

</li>
<li>fullpath

</li>
<li>host

</li>
<li>port

</li>
<li>scheme

</li>
<li>url

</li>
</ul>
<p>
## ENV shortcuts
</p>
<ul>
<li>accept_encoding

</li>
<li>content_charset

</li>
<li>content_length

</li>
<li>content_type

</li>
<li>ip

</li>
<li>media_type

</li>
<li>media_type_params

</li>
<li>path_info

</li>
<li>path_info=

</li>
<li>query_string

</li>
<li>referrer

</li>
<li>script_name

</li>
<li>script_name=

</li>
<li>xhr?

</li>
</ul>
<p>
## Query request method
</p>
<ul>
<li>delete?

</li>
<li>get?

</li>
<li>head?

</li>
<li>post?

</li>
<li>put?

</li>
<li>request_method

</li>
</ul>
<p>
## parameter handling
</p>
<ul>
<li>[]

</li>
<li>[]=

</li>
<li>form_data?

</li>
<li>params

</li>
<li>values_at

</li>
</ul>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000483">[]</a>&nbsp;&nbsp;
      <a href="#M000482">current</a>&nbsp;&nbsp;
      <a href="#M000486">domain</a>&nbsp;&nbsp;
      <a href="#M000487">local_net?</a>&nbsp;&nbsp;
      <a href="#M000484">request_uri</a>&nbsp;&nbsp;
      <a href="#M000485">subset</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">


    <div id="constants-list">
      <h3 class="section-bar">Constants</h3>

      <div class="name-list">
        <table summary="Constants">
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">LOCAL</td>
          <td>=</td>
          <td class="context-item-value">(ipv4 + ipv6).map{|range| IPAddr.new(range)} unless defined?(LOCAL)</td>
        </tr>
        </table>
      </div>
    </div>



      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000482" class="method-detail">
        <a name="M000482"></a>

        <div class="method-heading">
          <a href="Request.src/M000482.html" target="Code" class="method-signature"
            onclick="popupCode('Request.src/M000482.html');return false;">
          <span class="method-name">current</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Currently handled request from Thread.current[:request] Call it from
anywhere via <a href="Request.html#M000482">Innate::Request.current</a>
</p>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000483" class="method-detail">
        <a name="M000483"></a>

        <div class="method-heading">
          <a href="Request.src/M000483.html" target="Code" class="method-signature"
            onclick="popupCode('Request.src/M000483.html');return false;">
          <span class="method-name">[]</span><span class="method-args">(value, *keys)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Let&#8216;s allow #[] to act like values_at.
</p>
<p>
Usage given a GET request like /hey?foo=duh&amp;bar=doh
</p>
<pre>
  request[:foo, :bar] # =&gt; ['duh', 'doh']
</pre>
<p>
Both <tt>value</tt> and the elements of <tt>keys</tt> will be turned into
String by to_s.
</p>
        </div>
      </div>

      <div id="method-M000486" class="method-detail">
        <a name="M000486"></a>

        <div class="method-heading">
          <a href="Request.src/M000486.html" target="Code" class="method-signature"
            onclick="popupCode('Request.src/M000486.html');return false;">
          <span class="method-name">domain</span><span class="method-args">(path = nil, options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Try to figure out the <a href="Request.html#M000486">domain</a> we are
running on, this might work for some deployments but fail for others, given
the combination of servers in front.
</p>
<p>
@example usage
</p>
<pre>
  domain
  # =&gt; #&lt;URI::HTTPS:0xb769ecb0 URL:https://localhost:7000/&gt;
  domain('/foo')
  # =&gt; #&lt;URI::HTTPS:0xb769ecb0 URL:https://localhost:7000/foo&gt;
</pre>
<p>
@param [to_s] path
</p>
<p>
@return [URI]
</p>
<p>
@api external @author manveru
</p>
        </div>
      </div>

      <div id="method-M000487" class="method-detail">
        <a name="M000487"></a>

        <div class="method-heading">
          <a href="Request.src/M000487.html" target="Code" class="method-signature"
            onclick="popupCode('Request.src/M000487.html');return false;">
          <span class="method-name">local_net?</span><span class="method-args">(address = ip)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Request.html">Request</a> is from a local network? Checks both
IPv4 and IPv6 Answer is true if the IP address making the request is from
local network. Optional argument address can be used to check any IP
address.
</p>
        </div>
      </div>

      <div id="method-M000484" class="method-detail">
        <a name="M000484"></a>

        <div class="method-heading">
          <a href="Request.src/M000484.html" target="Code" class="method-signature"
            onclick="popupCode('Request.src/M000484.html');return false;">
          <span class="method-name">request_uri</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
the full request URI provided by Rack::Request e.g. &quot;<a
href="http://localhost:7000/controller/action?foo=bar.xhtml">localhost:7000/controller/action?foo=bar.xhtml</a>&quot;
</p>
        </div>
      </div>

      <div id="method-M000485" class="method-detail">
        <a name="M000485"></a>

        <div class="method-heading">
          <a href="Request.src/M000485.html" target="Code" class="method-signature"
            onclick="popupCode('Request.src/M000485.html');return false;">
          <span class="method-name">subset</span><span class="method-args">(*keys)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Answers with a <a href="Request.html#M000485">subset</a> of request.params
with only the key/value pairs for which you pass the keys. Valid keys are
objects that respond to :to_s
</p>
<p>
@example usage
</p>
<pre>
  request.params
  # =&gt; {'name' =&gt; 'jason', 'age' =&gt; '45', 'job' =&gt; 'lumberjack'}
  request.subset('name')
  # =&gt; {'name' =&gt; 'jason'}
  request.subset(:name, :job)
  # =&gt; {'name' =&gt; 'jason', 'job' =&gt; 'lumberjack'}
</pre>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>